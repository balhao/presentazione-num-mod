import{r as te,L as oe,I as ae,H as ie,O as ce,f as le,o as re}from"./modules/vue-Bg1QFOsN.js";import{u as se}from"./slidev/context-DiHi60Rq.js";import{_ as de}from"./index-0Wq6TV5_.js";const m=980,h=552,ue={__name:"WireframeShapesBackground",setup(me){se();const g=te(null);let c=null,t=null;const o={cubeSize:200,pyramidSize:120,dodecahedronSize:200,rotationSpeed:.02,lineWidth:2,hue:212,saturation:90,lightness:60,alpha:.9,cubeX:.15,cubeY:.15,pyramidX:.5,pyramidY:.5,dodecahedronX:.85,dodecahedronY:.85,focalLength:400};let y=0,A=0,_=0,b=0,S=0,v=0,w=0,X=0,Y=0,T=null,j=null,k=null,s=null,d=null,u=null;const H=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]],J=[[0,1],[0,2],[0,3],[0,4],[1,2],[2,3],[3,4],[4,1]],O=[[0,8],[0,12],[0,16],[1,9],[1,12],[1,17],[2,10],[2,13],[2,16],[3,11],[3,13],[3,17],[4,8],[4,14],[4,18],[5,9],[5,14],[5,19],[6,10],[6,15],[6,18],[7,11],[7,15],[7,19],[8,10],[9,11],[12,14],[13,15],[16,17],[18,19]];function U(){const e=o.cubeSize/2;T=new Float32Array([-e,-e,-e,e,-e,-e,e,e,-e,-e,e,-e,-e,-e,e,e,-e,e,e,e,e,-e,e,e]),s=new Float32Array(16);const n=o.pyramidSize/2,l=o.pyramidSize*.8/2;j=new Float32Array([0,-l,0,-n,l,-n,n,l,-n,n,l,n,-n,l,n]),d=new Float32Array(10);const M=o.dodecahedronSize/2,a=(1+Math.sqrt(5))/2,i=1/a,f=[1,1,1,1,1,-1,1,-1,1,1,-1,-1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,-1,0,i,a,0,i,-a,0,-i,a,0,-i,-a,i,a,0,i,-a,0,-i,a,0,-i,-a,0,a,0,i,a,0,-i,-a,0,i,-a,0,-i];k=new Float32Array(f.map(p=>p*M)),u=new Float32Array(40)}function x(e,n,l,M,a,i,f){const p=Math.cos(a),P=Math.sin(a),Z=Math.cos(i),C=Math.sin(i),V=Math.cos(f),W=Math.sin(f),$=o.focalLength,N=e.length/3;for(let r=0;r<N;r++){let B=e[r*3],I=e[r*3+1],L=e[r*3+2],q=I*p-L*P,D=I*P+L*p,R=B*Z+D*C,Q=-B*C+D*Z,ee=R*V-q*W,ne=R*W+q*V;const G=$/($+Q);n[r*2]=l+ee*G,n[r*2+1]=M+ne*G}}function K(){const e=g.value;if(!e)return;const n=2;e.width=m*n,e.height=h*n,t=e.getContext("2d"),t.setTransform(n,0,0,n,0,0)}function E(){y=A=_=0,b=S=v=0,w=X=Y=0}function z(){t.fillStyle="rgba(251, 252, 255, 1)",t.fillRect(0,0,m,h),x(T,s,m*o.cubeX,h*o.cubeY,y,A,_),x(j,d,m*o.pyramidX,h*o.pyramidY,b,S,v),x(k,u,m*o.dodecahedronX,h*o.dodecahedronY,w,X,Y),t.strokeStyle=`hsla(${o.hue}, ${o.saturation}%, ${o.lightness}%, ${o.alpha})`,t.lineWidth=o.lineWidth,t.lineCap="round",t.lineJoin="round",t.beginPath();for(const[e,n]of H)t.moveTo(s[e*2],s[e*2+1]),t.lineTo(s[n*2],s[n*2+1]);for(const[e,n]of J)t.moveTo(d[e*2],d[e*2+1]),t.lineTo(d[n*2],d[n*2+1]);for(const[e,n]of O)t.moveTo(u[e*2],u[e*2+1]),t.lineTo(u[n*2],u[n*2+1]);t.stroke()}function F(){const e=o.rotationSpeed;y+=e*.8,A+=e*1,_+=e*.3,b+=e*.2,S+=e*2,v+=e*.1,w+=e*.6,X+=e*.4,Y+=e*.9,z(),c=requestAnimationFrame(F)}return oe(()=>{g.value&&(K(),U(),E(),z(),F())}),ae(()=>{E(),t&&z(),c||F()}),ie(()=>{c&&(cancelAnimationFrame(c),c=null)}),ce(()=>{c&&(cancelAnimationFrame(c),c=null)}),(e,n)=>(re(),le("canvas",{ref_key:"canvas",ref:g,class:"wireframe-canvas"},null,512))}},ge=de(ue,[["__scopeId","data-v-aa483d8e"]]);export{ge as _};
